{% extends "AppBundle::layout.html.twig" %}
{% block footer %}
    {{ parent() }}
<div id="myModal" class="modal" >
    <div class="modal-content">
        <div class="modal-header">
            <span class="close">Ã—</span>
            <h2>&nbsp;</h2>
        </div>
        <div class="modal-body">
            {% if showMap == true %}
            <div id="modalMap"></div>
            {% endif %}
        </div>
        <div class="modal-footer">
            {% if showMap == true %}
                <button class="button clean">Enlever tous les marqueurs.</button>
            {% endif %}
        </div>
    </div>
</div>
{% endblock %}
{% block javacripts %}
   {{ parent() }}
<script>
    (function($){

    var modalMap = $("#modalMap");
    modalMap.css({height : '70vh'});
    //draggable
    var modal = $('#myModal');
    modal.draggable(  ); //launch one to initialize
    $(".modal-header").hover( function(){
    modal.draggable( "option", "disabled", false);
    },
    function(){
    modal.draggable( "option", "disabled", true );
    });

    var launchModal = function(title){
    var modal = $('#myModal');
    var span = $(".close");
    span.on("click", function() {
    modal.css({display : "none" });
    });


    // When the user clicks anywhere outside of the modal, close it
    window.onclick = function(event) {
    if (event.target == modal) {
    modal.css({display : "none" });
    }
    }
    //set title
    $(".modal-header h2").text( title );
    modal.css({display : "block" })
    return ;
    }

    })(jQuery);

</script>
{% endblock %}
